<!DOCTYPE html>
<html>
  <head>
    <style type="text/css">
      html, body { height: 100%; margin: 0; padding: 0; }
      #map { height: 100%; }
    </style>
	<script src="http://code.jquery.com/jquery-1.12.0.min.js"></script>
	<meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
  </head>
  <body>
    <div id="map"></div>
	<script type="text/javascript">
	var map;
	function teiknaLinu(litur,lina) {
		var geralinu = new google.maps.Polyline({
			path: google.maps.geometry.encoding.decodePath(lina),
			strokeColor: litur,
			strokeOpacity: 1.0,
			strokeWeight: 4
		});
		//geralinu.setPath(lina);
		geralinu.setMap(map);
		var a = 3;
	}

	function initMap() {
		map = new google.maps.Map(document.getElementById('map'), {
		  center: {lat: 65, lng: -20},
		  zoom: 8
		});

		$.getJSON('http://sveinngauti.is/map/json.json',function(obj){
			for (i = 0; i < obj.length; ++i) {
				if (obj[i].Lina != null) {
				teiknaLinu(obj[i].Linulitur,obj[i].Lina);
				}
			}
		})
	}
	</script>
    <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyClRZNMxcuO2BSi3nynNQu7e7uFyzylWZ4&callback=initMap&libraries=geometry">
    </script>
  </body>
</html>
